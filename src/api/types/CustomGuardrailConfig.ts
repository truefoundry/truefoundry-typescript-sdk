/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as TrueFoundry from "../index.js";

/**
 * +label=Custom
 * +icon=puzzle-piece
 */
export interface CustomGuardrailConfig {
    /**
     * +label=Name
     * +sort=50
     * +usage=The name of the Guardrail Config.
     * +message=3 to 32 lower case characters long alphanumeric word, may contain - in between, cannot start with a number
     * +uiProps={"disableEdit":true}
     */
    name: string;
    /**
     * +uiType=Hidden
     * +value=integration/guardrail-config/custom
     */
    type: "integration/guardrail-config/custom";
    /**
     * +label=Operation
     * +usage=The operation type to use for the Guardrail. Validate guardrails are used to validate requests and mutate can validate as well as mutate requests.
     * Validate guardrails are run in parallel while mutate guardrails are run sequentially.
     * +uiType=Select
     * +sort=100
     */
    operation: CustomGuardrailConfig.Operation;
    /**
     * +label=Target
     * +usage=Specify whether the guardrail should be applied to the request or response. Guardrails with target "Request" can be only used in input guardrails and guardrails with target "Response" can only be used in output guardrails.
     * +uiType=Select
     * +sort=200
     */
    target: CustomGuardrailConfig.Target;
    /**
     * +label=URL
     * +sort=300
     * +usage=The URL of the Guardrail to send a post request to.
     */
    url: string;
    /**
     * +label=Auth Data
     * +sort=450
     * +usage=Authentication data for the Guardrail Server.
     */
    auth_data?: CustomGuardrailConfig.AuthData;
    /**
     * +label=Headers
     * +sort=500
     * +usage=Headers for the Guardrail Server. Forwarded to the Guardrail Server as is. For example: `{"Authorization": "APIKey <token>"}`
     */
    headers?: Record<string, string>;
    /**
     * +label=Config
     * +sort=600
     * +uiType=JsonInput
     * +usage=The config for the Guardrail Server. This is a JSON object that will be sent as a config to Guardrail Server along with the request.
     */
    config: Record<string, unknown>;
}

export namespace CustomGuardrailConfig {
    /**
     * +label=Operation
     * +usage=The operation type to use for the Guardrail. Validate guardrails are used to validate requests and mutate can validate as well as mutate requests.
     * Validate guardrails are run in parallel while mutate guardrails are run sequentially.
     * +uiType=Select
     * +sort=100
     */
    export type Operation = "validate" | "mutate";
    export const Operation = {
        Validate: "validate",
        Mutate: "mutate",
    } as const;
    /**
     * +label=Target
     * +usage=Specify whether the guardrail should be applied to the request or response. Guardrails with target "Request" can be only used in input guardrails and guardrails with target "Response" can only be used in output guardrails.
     * +uiType=Select
     * +sort=200
     */
    export type Target = "request" | "response";
    export const Target = {
        Request: "request",
        Response: "response",
    } as const;
    /**
     * +label=Auth Data
     * +sort=450
     * +usage=Authentication data for the Guardrail Server.
     */
    export type AuthData = TrueFoundry.CustomBasicAuth | TrueFoundry.CustomBearerAuth;
}
