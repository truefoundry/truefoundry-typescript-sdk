/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as TrueFoundry from "../index.js";

export interface Intercept {
    /** +value=intercept */
    type: "intercept";
    /**
     * +sort=1
     * +message=3 to 32 lower case characters long alphanumeric word, may contain - in between, cannot start with a number
     * +usage=Name of the service this intercept is for
     */
    name: string;
    rules: Intercept.Rules.Item[];
}

export namespace Intercept {
    export type Rules = Rules.Item[];

    export namespace Rules {
        export interface Item {
            /**
             * +docs=Port of service to be intercepted
             * +label=Service port
             */
            port: number;
            match?: TrueFoundry.HeaderMatch;
            /**
             * +docs=Action to take on succesful match
             * +label=Action
             */
            action: Item.Action;
        }

        export namespace Item {
            /**
             * +docs=Action to take on succesful match
             * +label=Action
             */
            export type Action = TrueFoundry.ForwardAction | TrueFoundry.MirrorAction;
        }
    }
}
