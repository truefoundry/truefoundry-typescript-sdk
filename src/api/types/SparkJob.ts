/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as TrueFoundry from "../index.js";

export interface SparkJob {
    /**
     * +value=spark-job
     * +sort=1
     */
    type: "spark-job";
    /**
     * +label=Name
     * +usage=Name of the job
     * +message=3 to 32 lower case characters long alphanumeric word, may contain - in between, cannot start with a number
     * +sort=2
     */
    name: string;
    /**
     * +label=Deploy a Docker image & Specify Spark Version
     * +usage=The image to use for driver and executors. Must have spark installed. Spark version must match the version in the image.
     * +sort=500
     */
    image: SparkJob.Image;
    /**
     * +label=Entrypoint
     * +sort=1000
     */
    entrypoint: SparkJob.Entrypoint;
    driverConfig: TrueFoundry.SparkDriverConfig;
    executorConfig: TrueFoundry.SparkExecutorConfig;
    /**
     * +label=Environment Variables
     * +usage=Configure environment variables to be injected in the service either as plain text. [Docs](https://docs.truefoundry.com/docs/env-variables)
     * +icon=fa-globe
     * +sort=21000
     */
    env?: Record<string, unknown>;
    /**
     * +label=Spark Config Properties
     * +usage=Extra configuration properties to be passed to the spark job. [Docs](https://spark.apache.org/docs/latest/configuration.html)
     * +icon=fa-gear:#68BBE3
     * +sort=21500
     */
    sparkConf?: Record<string, unknown>;
    /**
     * +label=Mounts
     * +usage=Configure volumes to be mounted to driver and executors. [Docs](https://docs.truefoundry.com/docs/mounting-volumes-job)
     * +sort=22000
     * +uiType=Mounts
     */
    mounts?: TrueFoundry.VolumeMount[];
    /**
     * +label=Retries
     * +usage=Specify the maximum number of attempts to retry a job before it is marked as failed.
     * +icon=fa-repeat
     * +sort=23000
     */
    retries?: number;
    /**
     * +label=Service Account
     * +sort=24000
     */
    serviceAccount?: string;
    /**
     * +label=Workspace FQN
     * +docs=Fully qualified name of the workspace
     * +uiType=Hidden
     */
    workspaceFqn?: string;
}

export namespace SparkJob {
    /**
     * +label=Deploy a Docker image & Specify Spark Version
     * +usage=The image to use for driver and executors. Must have spark installed. Spark version must match the version in the image.
     * +sort=500
     */
    export type Image = TrueFoundry.SparkImage | TrueFoundry.SparkImageBuild;
    /**
     * +label=Entrypoint
     * +sort=1000
     */
    export type Entrypoint =
        | TrueFoundry.SparkJobPythonEntrypoint
        | TrueFoundry.SparkJobScalaEntrypoint
        | TrueFoundry.SparkJobJavaEntrypoint
        | TrueFoundry.SparkJobPythonNotebookEntrypoint
        | TrueFoundry.SparkJobScalaNotebookEntrypoint;
}
