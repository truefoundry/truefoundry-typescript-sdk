/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as serializers from "../index.js";
import * as TrueFoundry from "../../api/index.js";
import * as core from "../../core/index.js";
import { TaskPySparkBuild } from "./TaskPySparkBuild.js";
import { SparkDriverConfig } from "./SparkDriverConfig.js";
import { SparkExecutorConfig } from "./SparkExecutorConfig.js";
import { PySparkTaskConfigMountsItem } from "./PySparkTaskConfigMountsItem";

export const PySparkTaskConfig: core.serialization.ObjectSchema<
    serializers.PySparkTaskConfig.Raw,
    TrueFoundry.PySparkTaskConfig
> = core.serialization.object({
    type: core.serialization.stringLiteral("pyspark-task-config"),
    image: TaskPySparkBuild,
    driverConfig: core.serialization.property("driver_config", SparkDriverConfig),
    executorConfig: core.serialization.property("executor_config", SparkExecutorConfig),
    sparkConf: core.serialization.property(
        "spark_conf",
        core.serialization.record(core.serialization.string(), core.serialization.unknown()).optional(),
    ),
    env: core.serialization.record(core.serialization.string(), core.serialization.string().optional()).optional(),
    mounts: core.serialization.list(PySparkTaskConfigMountsItem).optional(),
    serviceAccount: core.serialization.property("service_account", core.serialization.string().optional()),
});

export declare namespace PySparkTaskConfig {
    export interface Raw {
        type: "pyspark-task-config";
        image: TaskPySparkBuild.Raw;
        driver_config: SparkDriverConfig.Raw;
        executor_config: SparkExecutorConfig.Raw;
        spark_conf?: Record<string, unknown> | null;
        env?: Record<string, string | null | undefined> | null;
        mounts?: PySparkTaskConfigMountsItem.Raw[] | null;
        service_account?: string | null;
    }
}
